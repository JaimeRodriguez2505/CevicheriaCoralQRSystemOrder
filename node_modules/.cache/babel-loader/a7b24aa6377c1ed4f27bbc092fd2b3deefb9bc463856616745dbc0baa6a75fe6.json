{"ast":null,"code":"import _toConsumableArray from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/soulkin/Documents/dash-tabs-master/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/soulkin/Documents/dash-tabs-master/src/components/Menu/index.js\";\nimport React, { Component } from 'react';\nimport MenuView from './menuView';\nimport { withFirebase } from '../Firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Menu = /*#__PURE__*/function (_Component) {\n  _inherits(Menu, _Component);\n  var _super = _createSuper(Menu);\n  function Menu(props) {\n    var _this;\n    _classCallCheck(this, Menu);\n    _this = _super.call(this, props);\n    _this.fetchRestaurantName = function (uid) {\n      _this.props.firebase.user(uid).on('value', function (snapshot) {\n        var businessName = snapshot.val().businessName.toUpperCase();\n        _this.setState({\n          businessName: businessName\n        });\n      });\n    };\n    _this.fetchMenu = function (uid) {\n      _this.props.firebase.userMenu(uid).on('value', function (snapshot) {\n        if (snapshot.val() !== null) {\n          var newMenu = {\n            drinks: 0,\n            dishes: 0\n          };\n          if (snapshot.val().dishes !== 0) newMenu.dishes = snapshot.val().dishes.filter(function (el) {\n            return el.available;\n          });\n          if (snapshot.val().drinks !== 0) newMenu.drinks = snapshot.val().drinks.filter(function (el) {\n            return el.available;\n          });\n          var table = _this.props.match.params.table === \"takeout\" ? \"takeout\" : Number(_this.props.match.params.table);\n          var currentUser = _this.props.firebase.getCurrentUser();\n          _this.setState({\n            table: table,\n            menu: newMenu,\n            dataFetched: true,\n            order: _objectSpread(_objectSpread({}, _this.state.order), {}, {\n              table: table\n            }),\n            showModal: currentUser === null ? false : currentUser.isAnonymous\n          });\n        } else {\n          _this.setState({\n            error: \"ERROR FETCHING ITEMS FROM MENU\"\n          });\n        }\n      });\n    };\n    _this.tableIsValid = function (uid) {\n      var tableIsValid = false;\n      _this.props.firebase.userTables(uid).on('value', function (snapshot) {\n        if (snapshot.val() !== null) {\n          var fetchedTables = snapshot.val();\n          for (var i = 0; i < fetchedTables.length; i++) {\n            if (fetchedTables[i].number === _this.state.table) {\n              tableIsValid = true;\n              break;\n            }\n          }\n        }\n        _this.setState({\n          tableIsValid: tableIsValid\n        });\n      });\n    };\n    _this.orderIsValid = function (uid) {\n      var orderIsValid = true;\n      var fetchedOrders;\n      _this.props.firebase.userOrders(uid).on('value', /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(snapshot) {\n          var i;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (!(snapshot.val() !== null)) {\n                  _context.next = 10;\n                  break;\n                }\n                fetchedOrders = snapshot.val();\n                i = 0;\n              case 3:\n                if (!(i < fetchedOrders.current.length)) {\n                  _context.next = 10;\n                  break;\n                }\n                if (!(fetchedOrders.current[i].table === _this.state.table)) {\n                  _context.next = 7;\n                  break;\n                }\n                orderIsValid = false;\n                return _context.abrupt(\"break\", 10);\n              case 7:\n                i++;\n                _context.next = 3;\n                break;\n              case 10:\n                if (fetchedOrders.current === 0) fetchedOrders.current = [];\n                if (fetchedOrders.past === 0) fetchedOrders.past = [];\n                _this.setState({\n                  orderIsValid: orderIsValid,\n                  fetchedOrders: fetchedOrders\n                });\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    };\n    _this.getTakeoutOrder = function (orders) {\n      var orderNum = 0;\n      orders.current.forEach(function (el) {\n        if (el.table === \"takeout\" && el.orderNum > orderNum) orderNum = el.orderNum;\n      });\n      orders.past.forEach(function (el) {\n        if (el.table === \"takeout\" && el.orderNum > orderNum) orderNum = el.orderNum;\n      });\n      return orderNum + 1;\n    };\n    _this.sendOrder = function () {\n      if (_this.state.table !== \"takeout\") {\n        if (_this.state.tableIsValid === false) {\n          _this.setState({\n            error: \"CHECK TABLE NUMBER\"\n          });\n          return;\n        }\n        if (_this.state.orderIsValid === false) {\n          _this.setState({\n            error: \"ORDER NUMBER IS INVALID\"\n          });\n          return;\n        }\n      }\n      var newOrders = _objectSpread({}, _this.state.fetchedOrders);\n      var order = _objectSpread(_objectSpread({}, _this.state.order), {}, {\n        items: {\n          dishes: _toConsumableArray(_this.state.order.items.dishes),\n          drinks: _toConsumableArray(_this.state.order.items.drinks)\n        },\n        start: new Date().getTime()\n      });\n      order.comments = _this.state.comments;\n      if (_this.state.table === \"takeout\") {\n        order.orderNum = _this.getTakeoutOrder(newOrders);\n      }\n      if (order.items.dishes.length === 0) order.items.dishes = 0;\n      if (order.items.drinks.length === 0) order.items.drinks = 0;\n      if (newOrders.past.length === 0) newOrders.past = 0;\n      newOrders.current.push(order);\n      _this.props.firebase.userOrders(_this.props.match.params.uid).set(newOrders);\n      _this.setState({\n        orderSent: true\n      });\n    };\n    _this.itemExistsInOrder = function (name, type) {\n      var exists = _this.state.order.items[type].find(function (item) {\n        return item.name === name;\n      });\n      return exists === undefined ? false : true;\n    };\n    _this.getItemQty = function (name, type) {\n      var foundItem = _this.state.order.items[type].find(function (item) {\n        return item.name === name;\n      });\n      return foundItem.qty;\n    };\n    _this.getItemCost = function (name, type) {\n      return _this.state.menu[type].find(function (el) {\n        return el.name === name;\n      }).price;\n    };\n    _this.deleteItem = function (item, type) {\n      var newOrder = _objectSpread(_objectSpread({}, _this.state.order), {}, {\n        items: {\n          dishes: _toConsumableArray(_this.state.order.items.dishes),\n          drinks: _toConsumableArray(_this.state.order.items.drinks)\n        }\n      });\n      var foundItem = _this.state.order.items[type].find(function (it) {\n        return it.name === item.name;\n      });\n      var itemSubtotal = _this.getItemCost(item.name, type) * foundItem.qty;\n      newOrder.items[type] = newOrder.items[type].filter(function (el) {\n        return el.name !== item.name;\n      });\n      newOrder.cost = newOrder.cost - itemSubtotal;\n      _this.setState({\n        order: newOrder,\n        currentItem: {\n          type: null,\n          idx: null\n        }\n      });\n    };\n    _this.toggleModal = function (e) {\n      _this.setState({\n        showModal: !_this.state.showModal\n      });\n    };\n    _this.handleFormInput = function (input) {\n      _this.setState({\n        comments: input\n      });\n    };\n    _this.toggleConfirmScreen = function () {\n      window.scrollTo(0, 0);\n      _this.setState({\n        confirmScreen: !_this.state.confirmScreen\n      });\n    };\n    _this.setCurrentItem = function (type, idx, item) {\n      if (_this.itemExistsInOrder(item.name, type)) {\n        var foundItem = _this.state.order.items[type].find(function (it) {\n          return it.name === item.name;\n        });\n        _this.setState({\n          currentItem: {\n            idx: idx,\n            type: type,\n            qty: foundItem.qty,\n            name: foundItem.name,\n            cost: _this.getItemCost(item.name, type),\n            subTotal: foundItem.qty * _this.getItemCost(item.name, type)\n          }\n        });\n      } else {\n        _this.setState({\n          currentItem: {\n            idx: idx,\n            type: type,\n            qty: 1,\n            name: item.name,\n            cost: item.price,\n            subtotal: item.price\n          }\n        });\n      }\n      ;\n    };\n    _this.upgradeItemQty = function (qty) {\n      var newCurrentItem = _objectSpread({}, _this.state.currentItem);\n      if (qty === -1) {\n        if (newCurrentItem.qty === 1) return;\n        newCurrentItem.qty--;\n      } else {\n        newCurrentItem.qty++;\n      }\n      newCurrentItem.subtotal = newCurrentItem.cost * newCurrentItem.qty;\n      _this.setState({\n        currentItem: newCurrentItem\n      });\n    };\n    _this.addItem = function () {\n      var _this$state = _this.state,\n        order = _this$state.order,\n        currentItem = _this$state.currentItem;\n      var newOrder = _objectSpread(_objectSpread({}, order), {}, {\n        items: {\n          dishes: _toConsumableArray(order.items.dishes),\n          drinks: _toConsumableArray(order.items.drinks)\n        }\n      });\n      if (_this.itemExistsInOrder(currentItem.name, currentItem.type)) {\n        var foundItemIdx = newOrder.items[currentItem.type].findIndex(function (el) {\n          return el.name === currentItem.name;\n        });\n        var prevItemSubtotal = newOrder.items[currentItem.type][foundItemIdx].qty * _this.getItemCost(currentItem.name, currentItem.type);\n        var newItemSubtotal = currentItem.qty * _this.getItemCost(currentItem.name, currentItem.type);\n        newOrder.items[currentItem.type][foundItemIdx].qty = currentItem.qty;\n        if (newItemSubtotal > prevItemSubtotal) {\n          newOrder.cost = newOrder.cost + (newItemSubtotal - prevItemSubtotal);\n        }\n        if (newItemSubtotal < prevItemSubtotal) {\n          newOrder.cost = newOrder.cost - (prevItemSubtotal - newItemSubtotal);\n        }\n      } else {\n        newOrder.items[currentItem.type].push({\n          name: currentItem.name,\n          qty: currentItem.qty\n        });\n        newOrder.cost = newOrder.cost + currentItem.subtotal;\n      }\n      _this.setState({\n        order: newOrder,\n        currentItem: {\n          type: null,\n          idx: null\n        }\n      });\n    };\n    _this.state = {\n      dataFetched: false,\n      orderSent: false,\n      error: false,\n      menu: {\n        drinks: 0,\n        dishes: 0\n      },\n      table: '',\n      order: {\n        cost: 0,\n        ready: false,\n        table: '',\n        items: {\n          dishes: [],\n          drinks: []\n        },\n        comments: ''\n      },\n      comments: '',\n      showModal: false,\n      confirmScreen: false,\n      currentItem: {\n        type: null,\n        idx: null\n      }\n    };\n    return _this;\n  }\n  _createClass(Menu, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.fetchMenu(this.props.match.params.uid);\n      if (this.props.match.params.table !== \"takeout\") {\n        this.tableIsValid(this.props.match.params.uid);\n      }\n      this.orderIsValid(this.props.match.params.uid);\n      this.fetchRestaurantName(this.props.match.params.uid);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.firebase.users().off();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n        menu = _this$state2.menu,\n        error = _this$state2.error,\n        order = _this$state2.order,\n        showModal = _this$state2.showModal,\n        orderSent = _this$state2.orderSent,\n        dataFetched = _this$state2.dataFetched,\n        currentItem = _this$state2.currentItem,\n        businessName = _this$state2.businessName,\n        confirmScreen = _this$state2.confirmScreen;\n      var orderIsEmpty = order.items.dishes.length === 0 && order.items.drinks.length === 0;\n      var drinksIsEmpty = menu.drinks.length === 0 || menu.drinks === 0 ? true : false;\n      var dishesIsEmpty = menu.dishes.length === 0 || menu.dishes === 0 ? true : false;\n      var orderDrinksIsEmpty = order.items.drinks.length === 0 ? true : false;\n      var orderDishesIsEmpty = order.items.dishes.length === 0 ? true : false;\n      return /*#__PURE__*/_jsxDEV(MenuView, {\n        error: error,\n        order: order,\n        drinks: menu.drinks,\n        dishes: menu.dishes,\n        orderSent: orderSent,\n        showModal: showModal,\n        addItem: this.addItem,\n        currentItem: currentItem,\n        dataFetched: dataFetched,\n        sendOrder: this.sendOrder,\n        orderIsEmpty: orderIsEmpty,\n        businessName: businessName,\n        deleteItem: this.deleteItem,\n        getItemQty: this.getItemQty,\n        drinksIsEmpty: drinksIsEmpty,\n        dishesIsEmpty: dishesIsEmpty,\n        confirmScreen: confirmScreen,\n        toggleModal: this.toggleModal,\n        getItemCost: this.getItemCost,\n        setCurrentItem: this.setCurrentItem,\n        upgradeItemQty: this.upgradeItemQty,\n        handleFormInput: this.handleFormInput,\n        orderDishesIsEmpty: orderDishesIsEmpty,\n        orderDrinksIsEmpty: orderDrinksIsEmpty,\n        itemExistsInOrder: this.itemExistsInOrder,\n        toggleConfirmScreen: this.toggleConfirmScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return Menu;\n}(Component);\nexport default _c = withFirebase(Menu);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","MenuView","withFirebase","jsxDEV","_jsxDEV","Menu","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","fetchRestaurantName","uid","firebase","user","on","snapshot","businessName","val","toUpperCase","setState","fetchMenu","userMenu","newMenu","drinks","dishes","filter","el","available","table","match","params","Number","currentUser","getCurrentUser","menu","dataFetched","order","_objectSpread","state","showModal","isAnonymous","error","tableIsValid","userTables","fetchedTables","i","length","number","orderIsValid","fetchedOrders","userOrders","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","current","abrupt","past","stop","_x","apply","arguments","getTakeoutOrder","orders","orderNum","forEach","sendOrder","newOrders","items","_toConsumableArray","start","Date","getTime","comments","push","set","orderSent","itemExistsInOrder","name","type","exists","find","item","undefined","getItemQty","foundItem","qty","getItemCost","price","deleteItem","newOrder","it","itemSubtotal","cost","currentItem","idx","toggleModal","e","handleFormInput","input","toggleConfirmScreen","window","scrollTo","confirmScreen","setCurrentItem","subTotal","subtotal","upgradeItemQty","newCurrentItem","addItem","_this$state","foundItemIdx","findIndex","prevItemSubtotal","newItemSubtotal","ready","_createClass","key","value","componentWillMount","componentWillUnmount","users","off","render","_this$state2","orderIsEmpty","drinksIsEmpty","dishesIsEmpty","orderDrinksIsEmpty","orderDishesIsEmpty","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/soulkin/Documents/dash-tabs-master/src/components/Menu/index.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport MenuView from './menuView';\nimport { withFirebase } from '../Firebase';\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataFetched: false,\n      orderSent: false,\n      error: false,\n      menu: { drinks: 0, dishes: 0 },\n      table: '',\n      order: {\n        cost: 0,\n        ready: false,\n        table: '',\n        items: {\n          dishes: [],\n          drinks: [],\n        },\n        comments: '',\n      },\n      comments: '',\n      showModal: false,\n      confirmScreen: false,\n      currentItem: { type: null, idx: null }\n    };\n  };\n\n  componentWillMount() {\n    this.fetchMenu(this.props.match.params.uid);\n    if(this.props.match.params.table !== \"takeout\") {\n      this.tableIsValid(this.props.match.params.uid);\n    }\n    this.orderIsValid(this.props.match.params.uid);\n    this.fetchRestaurantName(this.props.match.params.uid);\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  fetchRestaurantName = (uid) => {\n    this.props.firebase.user(uid).on('value', snapshot => {\n      let businessName = snapshot.val().businessName.toUpperCase();\n      this.setState({ businessName });\n    });\n  }\n\n  fetchMenu = (uid) => {\n    this.props.firebase.userMenu(uid).on('value', snapshot => {\n      if(snapshot.val() !== null) {\n        let newMenu = { drinks: 0, dishes: 0 };\n        if(snapshot.val().dishes !== 0) newMenu.dishes = snapshot.val().dishes.filter(el => el.available);\n        if(snapshot.val().drinks !== 0) newMenu.drinks = snapshot.val().drinks.filter(el => el.available);\n        let table = this.props.match.params.table === \"takeout\" ? \"takeout\" : Number(this.props.match.params.table);\n        let currentUser = this.props.firebase.getCurrentUser();\n        this.setState({ \n          table,\n          menu: newMenu, \n          dataFetched: true, \n          order: { ...this.state.order, table },\n          showModal: currentUser === null ? false : currentUser.isAnonymous,\n        });\n      } else {\n        this.setState({ error: \"ERROR FETCHING ITEMS FROM MENU\" });\n      }\n    });\n  }\n\n  tableIsValid = (uid) => {\n    let tableIsValid = false;\n    this.props.firebase.userTables(uid).on('value', snapshot => {\n      if(snapshot.val() !== null) {\n        let fetchedTables = snapshot.val();\n        for(let i=0; i<fetchedTables.length; i++) {\n          if(fetchedTables[i].number === this.state.table) {\n            tableIsValid = true;\n            break;\n          }\n        }\n      }\n      this.setState({ tableIsValid });\n    })\n  }\n\n  orderIsValid = (uid) => {\n    let orderIsValid = true;\n    let fetchedOrders;\n    this.props.firebase.userOrders(uid).on('value', async snapshot => {\n      if(snapshot.val() !== null) {\n        fetchedOrders = snapshot.val();\n        for(let i=0; i<fetchedOrders.current.length; i++) {\n          if(fetchedOrders.current[i].table === this.state.table) {\n            orderIsValid = false;\n            break;\n          }\n        }\n      }\n      if(fetchedOrders.current === 0) fetchedOrders.current = [];\n      if(fetchedOrders.past === 0) fetchedOrders.past = [];\n      this.setState({ orderIsValid, fetchedOrders });\n    })\n  }\n\n  getTakeoutOrder = (orders) => {\n    let orderNum = 0;\n    orders.current.forEach(el => {\n      if(el.table === \"takeout\" && el.orderNum > orderNum) orderNum = el.orderNum;\n    });\n    orders.past.forEach(el => {\n      if(el.table === \"takeout\" && el.orderNum > orderNum) orderNum = el.orderNum;\n    });\n    return orderNum + 1;\n  }\n\n  sendOrder = () => {\n    if(this.state.table !== \"takeout\") {\n      if(this.state.tableIsValid === false) {\n        this.setState({ error: \"CHECK TABLE NUMBER\" });\n        return;\n      }\n      if(this.state.orderIsValid === false) {\n        this.setState({ error: \"ORDER NUMBER IS INVALID\" });\n        return;\n      }\n    }\n    let newOrders = {...this.state.fetchedOrders};\n    let order = {\n      ...this.state.order,\n      items: {\n        dishes: [...this.state.order.items.dishes],\n        drinks: [...this.state.order.items.drinks],\n      },\n      start: new Date().getTime(),\n    };\n    order.comments = this.state.comments;\n\n    if(this.state.table === \"takeout\") {\n      order.orderNum = this.getTakeoutOrder(newOrders);\n    } \n\n    if(order.items.dishes.length === 0) order.items.dishes = 0;\n    if(order.items.drinks.length === 0) order.items.drinks = 0;\n    if(newOrders.past.length === 0) newOrders.past = 0; \n    newOrders.current.push(order);\n    this.props.firebase.userOrders(this.props.match.params.uid).set(newOrders);\n    this.setState({ orderSent: true })\n  }\n\n  itemExistsInOrder = (name, type) => {\n    let exists = this.state.order.items[type].find(item => item.name === name);\n    return exists === undefined ? false : true;\n  }\n\n  getItemQty = (name, type) => {\n    let foundItem = this.state.order.items[type].find(item => item.name === name);\n    return foundItem.qty;\n  }\n\n  getItemCost = (name, type) => this.state.menu[type].find(el => el.name === name).price;\n\n  deleteItem = (item, type) => {\n    let newOrder = {\n      ...this.state.order,\n      items: { \n        dishes: [...this.state.order.items.dishes], \n        drinks: [...this.state.order.items.drinks],\n      }\n    };\n    let foundItem = this.state.order.items[type].find(it => it.name === item.name);\n    let itemSubtotal = this.getItemCost(item.name, type) * foundItem.qty;\n    newOrder.items[type] = newOrder.items[type].filter(el => el.name !== item.name);\n    newOrder.cost = newOrder.cost - itemSubtotal;\n    this.setState({ order: newOrder, currentItem: { type: null, idx: null } });\n  };\n\n  toggleModal = e => {\n    this.setState({\n      showModal: !this.state.showModal\n    });\n  };\n\n  handleFormInput = input => {\n    this.setState({\n      comments: input\n    });\n  };\n\n  toggleConfirmScreen = () => {\n    window.scrollTo(0,0); \n    this.setState({\n      confirmScreen: !this.state.confirmScreen\n    });\n  };\n\n  setCurrentItem = (type, idx, item) => {\n    if(this.itemExistsInOrder(item.name, type)) {\n      let foundItem = this.state.order.items[type].find(it => it.name === item.name);\n      this.setState({ currentItem: {\n        idx,\n        type,\n        qty: foundItem.qty,\n        name: foundItem.name,\n        cost: this.getItemCost(item.name, type),\n        subTotal: foundItem.qty * this.getItemCost(item.name, type),\n      }});\n\n    } else {\n      this.setState({ currentItem: {\n        idx,\n        type,\n        qty: 1,\n        name: item.name,\n        cost: item.price,\n        subtotal: item.price,\n      }});\n    };\n  };\n\n  upgradeItemQty = (qty) => {\n    let newCurrentItem = {...this.state.currentItem};  \n    if(qty === -1) {\n      if(newCurrentItem.qty === 1) return;\n      newCurrentItem.qty--;\n    } else {\n      newCurrentItem.qty++;\n    }\n    newCurrentItem.subtotal = newCurrentItem.cost * newCurrentItem.qty;\n    this.setState({ currentItem: newCurrentItem });\n  };\n\n  addItem = () => {\n    let { order, currentItem } = this.state;\n    let newOrder = { ...order, items: { dishes: [...order.items.dishes], drinks: [...order.items.drinks] } };\n    if(this.itemExistsInOrder(currentItem.name, currentItem.type)) {\n      let foundItemIdx = newOrder.items[currentItem.type].findIndex(el => el.name === currentItem.name);\n      let prevItemSubtotal = newOrder.items[currentItem.type][foundItemIdx].qty * this.getItemCost(currentItem.name, currentItem.type);\n      let newItemSubtotal = currentItem.qty * this.getItemCost(currentItem.name, currentItem.type);\n      newOrder.items[currentItem.type][foundItemIdx].qty = currentItem.qty;\n      if(newItemSubtotal > prevItemSubtotal) {\n        newOrder.cost = newOrder.cost + (newItemSubtotal - prevItemSubtotal);\n      }\n      if(newItemSubtotal < prevItemSubtotal) {\n        newOrder.cost = newOrder.cost - (prevItemSubtotal - newItemSubtotal);\n      }\n    } else {\n      newOrder.items[currentItem.type].push({ name: currentItem.name, qty: currentItem.qty });\n      newOrder.cost = newOrder.cost + currentItem.subtotal;\n    }\n    this.setState({ order: newOrder, currentItem: { type: null, idx: null }});\n  };\n\n  render() {\n    const {\n      menu,\n      error,\n      order,\n      showModal,\n      orderSent,\n      dataFetched,\n      currentItem,\n      businessName,\n      confirmScreen,\n    } = this.state;\n\n    const orderIsEmpty = order.items.dishes.length === 0 && order.items.drinks.length === 0;\n    const drinksIsEmpty = (menu.drinks.length === 0 || menu.drinks === 0 ) ? true : false;\n    const dishesIsEmpty = (menu.dishes.length === 0 || menu.dishes === 0 ) ? true : false;\n    const orderDrinksIsEmpty = order.items.drinks.length === 0 ? true : false;\n    const orderDishesIsEmpty = order.items.dishes.length === 0 ? true : false;\n\n    return (\n      <MenuView \n        error={error}\n        order={order}\n        drinks={menu.drinks}\n        dishes={menu.dishes}\n        orderSent={orderSent}\n        showModal={showModal}\n        addItem={this.addItem}\n        currentItem={currentItem}\n        dataFetched={dataFetched}\n        sendOrder={this.sendOrder}\n        orderIsEmpty={orderIsEmpty}\n        businessName={businessName}\n        deleteItem={this.deleteItem}\n        getItemQty={this.getItemQty}\n        drinksIsEmpty={drinksIsEmpty}\n        dishesIsEmpty={dishesIsEmpty}\n        confirmScreen={confirmScreen}\n        toggleModal={this.toggleModal}\n        getItemCost={this.getItemCost}\n        setCurrentItem={this.setCurrentItem}\n        upgradeItemQty={this.upgradeItemQty}\n        handleFormInput={this.handleFormInput}\n        orderDishesIsEmpty={orderDishesIsEmpty}\n        orderDrinksIsEmpty={orderDrinksIsEmpty}\n        itemExistsInOrder={this.itemExistsInOrder}\n        toggleConfirmScreen={this.toggleConfirmScreen}\n      />\n    );\n  }\n}\n\nexport default withFirebase(Menu);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}